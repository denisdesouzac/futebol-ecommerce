{% extends "base.html" %}

{% block titulo %}
    {{ product.name }}
{% endblock %}

{% block conteudo %}
    <div class="row">
        <div class="col-md-6">
            <img src="{{ product.image.url }}" alt="{{ product.name }}" class="img-fluid">
        </div>
        <div class="col-md-6">
            <h2>{{ product.name }}</h2>
            <p>{{ product.description }}</p>
            <p>Preço: R$ {{ product.price }}</p>
            <p>Em estoque: {{ product.quantity_in_stock }}</p>

            {% if user.is_authenticated %}
                <div class="flex-r-m flex-w p-t-10">
                    <div class="w-size16 flex-m flex-w">
                        <div class="form-group">
                            <label for="quantity">Quantidade:</label>
                            <input class="size8 m-text18 t-center num-product form-control" 
                                   type="number" 
                                   id="quantity" 
                                   name="quantity" 
                                   value="1" 
                                   min="1" 
                                   max="{{ product.quantity_in_stock }}">
                        </div>

                        <div class="btn-addcart-product-detail size9 trans-0-4 m-t-10 m-b-10" style="margin-bottom: 20px;">
                            <a href="{% url 'add-to-cart' product.slug %}?quantity={{ request.POST.quantity }}" class="btn btn-primary" style="margin: 2px;">Adicionar ao Carrinho</a>
                            <a href="{% url 'remove-from-cart' product.slug %}" class="btn btn-outline-dark" style="margin: 2px;">Remover do Carrinho</a>
                        </div>
                    </div>
                </div>
            {% else %}
                <p>Por favor, <a href="{% url 'login' %}">faça login</a> para adicionar itens ao carrinho.</p>
            {% endif %}
        </div>
    </div>
{% endblock %}